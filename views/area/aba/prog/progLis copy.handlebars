<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta charset="utf-8">
		<title>Lista ABA</title>
		<script>
			function carregaBody(){
				let arr = document.getElementsByName("tagContainerTerapeuta");

				arr.forEach((a)=>{
					let novo_vetor;
					let input = document.getElementById(a.id + "_input");
					console.log("input.value: "+input.value)
					novo_vetor = input.value.split(",");
					novo_vetor.forEach((e)=>{
						let excecao = document.getElementById(e+"_span");
						a.append(excecao.cloneNode(true));
					})
				})
			}
			function confirmeDeletar(id){
				let confirmado = confirm("Quer mesmo deletar essa Exceção?");
				if(confirmado == true){
					window.location.href=("/menu/beneficiario/excecao/del/"+id);
				}
			}
		</script>
	</head>
	<body onload="javascript:controlaNave();carregaBody();" class="no-skin">
		<div class="main-container ace-save-state" id="main-container">
			<div class="main-content">
				<div class="main-content-inner">
					<div class="breadcrumbs ace-save-state" id="breadcrumbs">
						<ul class="breadcrumb">
							<li>
								<i class="ace-icon fa fa-home home-icon"></i>
								<a href="#">Home</a>
							</li>
							<li class="active">Lista ABA</li>
						</ul><!-- /.breadcrumb -->
					</div>
					<div hidden id="divCarrega">
						{{#each usuarios}}
							<span id="{{_id}}_span" class="tag">{{usuario_nome}}</span>
						{{/each}}
					</div>
					{{#each error}}
					<div class="alert alert-danger">{{texto}}{{error}}</div>
					{{else}}
					{{/each}}
					<div class="page-content"><!-- .page-content -->
						<div class="row"><!--.row -->
							<div class="col-xs-12 col-sm-12">
								<!-- PAGE CONTENT BEGINS -->
								<table id="dynamic-table" class="table table-striped table-bordered table-hover dataTable no-footer" role="grid" aria-describedby="dynamic-table_info">
									<thead>
										<tr role="row">
											<th class="sorting" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1" >Beneficiário</th>
										</tr>
									</thead>
									<tbody>
										{{#each benes}}
										<tr role="row" class="odd">
											<td><label class="hidden">{{bene_nome}}</label>
												<div class="widget-box collapsed">
													<div class="widget-header">
														<h6 class="widget-title" >
															<a href="#" data-action="reload">
																<i class="ace-icon green fa fa-archive bigger-130"></i>
															</a>
															&nbsp;{{bene_nome}}
														</h6>
														<span class="widget-toolbar">
															<a href="#" data-action="reload">
																<i class="ace-icon brown fa fa-refresh bigger-130"></i>
															</a>
															<a href="#" data-action="collapse">
																<i class="ace-icon fa fa-chevron-up bigger-130"></i>
															</a>
														</span>
														<span class="widget-toolbar">
															<a class="orange" name="acaoCad" id="acaoCad" href="/menu/area/aba/prog/progcadBene/{{_id}}" title="Cadastrar novo programa ABA para &nbsp;{{bene_nome}}">
																<i class="ace-icon fa fa-plus bigger-130"></i>
															</a>
														</span>
														<span class="widget-toolbar">
															<a name="acaoViz" id="acaoViz">
																{{#if countProgs}}
																	<i class="ace-icon green fa fa-check bigger-130"></i>
																{{else}}
																	<i class="ace-icon red fa fa-ban bigger-130" title="Ainda não foram cadastrados programas ABA para esse beneficiário."></i>
																{{/if}}
															</a>
														</span>
															
													</div>
													<div class="widget-body">
														<div class="widget-main">
															
															<div class="widget-header">
																<h6 class="widget-title" >
																	<table  >
																		<thead>
																			<tr>
																				<th colspan="5">
																					<span class="label label-warning arrowed-in-right ">
																						&nbsp;Lista de Programas ABA
																					</span>
																				</th>
																			</tr>
																			<tr>
																				<th style="width:220px">
																					<a href="#" data-action="reload">
																						<i class="ace-icon fa fa-sliders  bigger-130"></i>
																					</a>
																					&nbsp;
																					Tipo
																				</th>
																				<th style="width:220px">
																					<a href="#" data-action="">
																						<i class="ace-icon fa fa-signal bigger-130"></i>
																					</a>
																					&nbsp;
																					Nivel
																				</th>
																				<th style="width:220px">
																					<a href="#" data-action="">
																						<i class="ace-icon fa fa-calendar bigger-130"></i>
																					</a>
																					&nbsp;
																					Data
																				</th>
																				<th style="width:220px">
																					<a href="#" data-action="">
																						<i class="ace-icon fa fa-calendar-check-o bigger-130"></i>
																					</a>
																					&nbsp;
																					Inicio
																				</th>
																				<th style="width:220px">
																					<a href="#" data-action="">
																						<i class="ace-icon fa fa-tags bigger-130"></i>
																					</a>
																					&nbsp;
																					Status
																				</th>
																			</tr>
																		</thead>
																	</table>
																</h6>
															</div>
															{{#each ../progs}}
																{{#ifEqual this.prog_beneid ../_id}}
																	<div class="widget-box collapsed">
																		<div class="widget-header">
																			<table >
																				<tbody>
																					<tr>
																						<td style="width:220px">
																								<a href="#" data-action="">
																								<i class="orange ace-icon fa fa-folder bigger-130"></i>
																							</a>
																							&nbsp;
																							{{#each ../../progtipos}}<!-- Ok -->
																								{{#ifEqual this._id ../prog_tipo}}
																									{{progtipo_nome}}
																								{{/ifEqual}}
																							{{/each}}
																							
																						</td>
																						<td style="width:220px">
																							<a href="#" data-action="">
																							<i class="brown ace-icon Red fa fa-signal bigger-130"></i>
																							</a>
																							&nbsp;
																							{{#each ../../prognivels}}<!-- Ok -->
																								{{#ifEqual this._id ../prog_nivel}}
																									{{prognivel_nome}}
																								{{/ifEqual}}
																							{{/each}}
																						</td>
																						<td style="width:220px">
																							<a href="#" data-action="">
																							<i class="purple ace-icon fa fa-calendar bigger-130"></i>
																							</a>
																							&nbsp;
																							{{this.prog_data}}
																						</td>
																						<td style="width:220px">
																							<a href="#" data-action="">
																							<i class="red ace-icon fa fa-calendar-check-o bigger-130"></i>
																							</a>
																							&nbsp;
																							{{this.prog_dataini}}
																						</td>
																						<td style="width:220px">
																							{{#ifEqual this.prog_status "Aguardando"}}
																									<a href="#" data-action="">
																										<i class="ace-icon blue fa fa-hourglass-o bigger-130"></i>
																									</a>
																								{{else}}
																									{{#ifEqual this.prog_status "Pausado"}}
																									<a href="#" data-action="">
																										<i class="Red ace-icon fa fa-hourglass-o bigger-130"></i>
																									</a>
																									{{else}}
																										{{#ifEqual this.prog_status "Inicio"}}
																										<a href="#" data-action="">
																											<i class="orangeace-icon fa fa-sign-in bigger-130"></i>
																								</a>
																								{{else}}
																									{{#ifEqual this.prog_status "Andamento"}}
																									<a href="#" data-action="">
																										<i class="brown ace-icon fa fa-send bigger-130"></i>
																									</a>
																									{{else}}
																									<a href="#" data-action="">
																										<i class="green ace-icon fa fa-bookmark bigger-130"></i>
																									</a>
																									{{/ifEqual}}
																								{{/ifEqual}}
																							{{/ifEqual}}
																						{{/ifEqual}}
																						&nbsp;
																						{{this.prog_status}}
																						</td>
																						<td>
																							<span class="widget-toolbar">
																								<a href="#" data-action="collapse">
																									<i class="ace-icon fa fa-chevron-up bigger-130"></i>
																								</a>
																							</span>
																							<span class="widget-toolbar">
																								<a class="orange" name="acaoEdi" id="acaoEdi" href="/menu/area/aba/prog/edi/{{_id}}">
																									<i class="ace-icon fa fa-search bigger-130"></i>
																								</a>
																							</span>
																							<span class="widget-toolbar">
																								<a class="red" name="acaoCadset" id="acaoEdi" href="/menu/area/aba/set/setcad" title="Cadastrar novo SET para esse programa ABA.">
																									<i class="ace-icon fa fa-plus bigger-130"></i>
																								</a>
																							</span>
																						</td>
																					</tr>
																				</tbody>
																			</table>
																		</div>
																		<div class="widget-body">
																			<div class="widget-main">
																				<table id="dynamic-table" class="table table-striped table-bordered table-hover dataTable no-footer" role="grid" aria-describedby="dynamic-table_info">
																					<thead>
																						<tr role="row" style="width:25px">
																							<th class="center">
																									<label class="pos-rel">
																										<input type="checkbox" class="ace" />
																										<span class="lbl"></span>
																									</label>
																							</th>
																							<th class="sorting" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1" >Nome SET</th>
																							<th class="sorting" tabindex="1" aria-controls="dynamic-table" rowspan="1" colspan="1" >Data</th>
																							<th class="sorting" tabindex="2" aria-controls="dynamic-table" rowspan="1" colspan="1" >Status</th>
																							<th class="" tabindex="11" aria-controls="dynamic-table" rowspan="1" colspan="1"style="width: 90px;">Ação</th>
																							<th class="sorting" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1" >REGISTROS</th>
																						</tr>
																					</thead>
																					<tbody>
																						<!-- {{#each ../sets}} -->
																							<tr role="row" class="odd">
																								<td class="center">
																									<label class="pos-rel">
																										<input type="checkbox" class="ace" />
																										<span class="lbl"></span>
																									</label>
																								</td>
																								<td>Nome do set</td>	
																								<td> 01/04/2024</td>			
																								<td>
																									<div class="infobox infobox-blue2">
																										<div class="infobox-progress">
																											<div class="easy-pie-chart percentage" data-percent="42" data-size="46" style="height: 46px; width: 46px; line-height: 45px;">
																												<span class="percent">42</span>%
																											<canvas height="69" width="69" style="height: 46px; width: 46px;"></canvas></div>
																										</div>

																										<div class="infobox-data">
																											<span class="infobox-text">Status</span>

																											<div class="infobox-content">
																												<span class="bigger-110">~</span>
																												58GB remaining
																											</div>
																										</div>
																									</div>
																								</td>
																								<td>
																									<div class="action-buttons">
																										<a id="botaoEditar" class="pink" href="">
																											<i class="ace-icon fa fa-search bigger-130"></i>
																										</a>
																									{{#ifEqual ../usuarioAtual bordo_terapeutaid}}
																										<a class="red" name="acaoDel" id="acaoDel" onclick="javascript:confirmeDeletar('{{_id}}');">
																											<i class="ace-icon fa fa-trash-o bigger-130"></i>
																										</a>
																									{{/ifEqual}}
																									</div>
																									
																								</td>
																							</tr>
																						<!-- {{/each}} -->
																					</tbody>
																				</table>
																			</div>
																		</div>
																	</div>
																{{/ifEqual}}
															{{/each}}
														</div>
													</div>
												</div>
											</td>
										</tr>
										{{/each}}
									</tbody>
								</table>
							</div>
						</div>
					</div><!-- /.page-content -->
				</div><!-- /.main-content-inner -->
			</div><!-- /.main-content -->
		</div><!-- /.main-container ace-save-state --><!-- basic scripts --><!--[if !IE]> -->
		<script type="text/javascript">
			if('ontouchstart' in document.documentElement) document.write("<script src='../../../assets/js/jquery.mobile.custom.min.js'>"+"<"+"/script>");
		</script>
		<!-- basic scripts -->
		<!-- page specific plugin scripts -->
		<script type="text/javascript" charset="utf8" src="/js/jquery.dataTables.js"></script>
		<!-- inline scripts related to this page -->
		<script type="text/javascript">
			$(document).ready(function() {
				$("#dynamic-table").DataTable({
				"language": { "url": "/js/lang/datatable-pt-br.json" },
				"aaSorting": [],
				"aoColumns": [null],
				"responsive": true,
				"lengthMenu": [ 100, 200],
				"lengthChange": true,
				"autoWidth": false,
				"paging": true,
				"lengthChange": true,
				"searching": true,
				"ordering": true,
				"info": true,
				select: {
							style: 'multi'
						}
				});
			});
		</script>
		
	</body>
	
</html>